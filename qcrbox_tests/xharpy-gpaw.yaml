# Test suite for XHARPy-GPAW application

application_name: xharpy-gpaw
application_version: "0.2.0"
description: "Test suite for XHARPy-GPAW - Calculation of custom atomic form factors from periodic calculations with GPAW"

test_cases:
  - name: "atom_form_factors_pbe"
    description: "Test atomic form factor calculation with PBE functional"
    command_name: atom_form_fact_gpaw
    
    manual_precondition:
      - XHARPy-GPAW container needs to be built and available
    
    input_parameters:
      - name: input_cif
        type: external_file
        value: "./test_cif_files/ylid_iam_refined.cif"
      - name: output_cif_name
        type: str
        value: "xharpy_form_factors.cif"
      - name: functional
        type: str
        value: "PBE"
      - name: gridspacing
        type: float
        value: 0.16
    
    expected_results:
      - result_type: status
        expected: successful

  - name: "ha_refine_lda"
    description: "Test Hirshfeld atom refinement with SCAN functional"
    command_name: ha_refine
    
    manual_precondition:
      - XHARPy-GPAW container needs to be built and available
    
    input_parameters:
      - name: input_cif
        type: external_file
        value: "./test_cif_files/ylid_iam_refined.cif"
      - name: output_cif_name
        type: str
        value: "xharpy_refined.cif"
      - name: functional
        type: str
        value: "LDA"
      - name: gridspacing
        type: float
        value: 0.24
    
    expected_results:
      - result_type: status
        expected: successful
